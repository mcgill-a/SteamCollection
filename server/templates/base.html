{%- extends "bootstrap/base.html" %}

{% set page_title = page_title|default('Steam Collection') -%}
{% block title %}
	{{ page_title}}
{% endblock %}
{% import "bootstrap/fixes.html" as fixes %}

{% block head %}
{{super()}}
<link rel="shortcut icon" href="{{url_for('static', filename="resources/favicon.ico") }}">
{{fixes.ie8()}}
{%- endblock %}

{% block styles -%}
    {{super()}}
    <link rel="stylesheet" type="text/css"
          href="{{url_for('static', filename='style.css')}}">
	<link href="https://fonts.googleapis.com/css?family=Montserrat|Rubik|Poiret+One|Ubuntu" rel="stylesheet">
{% endblock %}

{% block scripts %}
	<script src="{{url_for('static', filename='javascript.js')}}"></script>
	{{super()}}
{% endblock %}

{% block navbar %}
{% set navigation_bar = [
	('/', 'index', 'Home'),
	('/games/', 'games', 'Games'),
	('javascript:void(0)', 'search', 'Search'),
	('/api/', api, 'API'),
	] -%}

{% set dropdown = [
	('/genres/', 'genres', 'Genres'),
	('/developers/', 'developers', 'Developers'),
	('/categories', 'categories', 'Categories'),
	] -%}

{#{% set active_page = active_page|default('index') -%}#}
<div class="navbar navbar-expand-sm navbar-inverse">
	<div class="container-fluid">
		<div class="navbar-header">
			<a class="navbar-brand" href="/"><img src="/static/resources/am-logo.jpg" alt="Alex McGill Logo"></a>
		</div>
		<ul class="nav navbar-nav navbar-right">
			{% for href, id, caption in navigation_bar %}
				{% if id == "search" %}
					<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">Search <span class="caret"></span></a>
						<ul class="dropdown-menu dropdown-menu-right">
							{% for href2, id2, caption2 in dropdown %}
								<li {% if id2 == active_page %} class="active" {% endif %}>
									<a href="{{ href2|e }}">{{ caption2|e }}</a>
								</li>
							{% endfor %}
						</ul>
				{% else %}
					<li {% if id == active_page %} class="active" {% endif %}>
						<a href="{{ href|e }}">{{ caption|e }}</a>
					</li>
				{% endif %}
			{% endfor%}
		</ul>
	</div>
</div>

{% endblock %}

<div class="container">
	{% block content%}
	{% endblock %}
</div>
